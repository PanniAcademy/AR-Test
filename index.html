<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://aframe.io/releases/1.4.0/aframe-ar.min.js"></script>
  </head>
  <body style="margin: 0px; overflow: hidden;">
    <a-scene embedded arjs>
      <a-assets>
        <a-asset-item id="panniAvatar" src="https://models.readyplayer.me/67a392085508ce28db20eadc.glb"></a-asset-item>
      </a-assets>
      <a-entity position="0 0 -2">
        <a-gltf-model src="#panniAvatar" scale="1 1 1"></a-gltf-model>
      </a-entity>
      <a-marker-camera preset='hiro'></a-marker-camera>
    </a-scene>
<script src="https://cdn.botpress.cloud/webchat/v1/inject.js"></script>
<script>
  window.botpressWebChat.init({
    "botId": "e9111e86-c355-4b2d-ae20-cad8de539072",
    "host": "https://cdn.botpress.cloud/webchat",
    "showCloseButton": false,
    "showMinimized": true,
    "containerWidth": "100%",
    "containerHeight": "400px"
  });
</script>
<script>
  var SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  var recognition = new SpeechRecognition();
  recognition.continuous = true;
  recognition.lang = 'en-US';

  recognition.onresult = function(event) {
    var transcript = event.results[event.results.length - 1][0].transcript.toLowerCase();
    console.log("User said:", transcript);

    if (transcript.includes("hey panni")) {  
      window.botpressWebChat.sendPayload({ type: 'text', text: 'Hello Panni AI' });
    }
  };

  function startListening() {
    recognition.start();
  }
</script>

<button onclick="startListening()" style="position: fixed; bottom: 10px; right: 10px;">ðŸŽ¤ Start Voice</button>

  </body>
</html>
